{"ast":null,"code":"var _jsxFileName = \"/home/eduardo/projetos/covid/src/components/PieChart/index.js\";\nvar __jsx = React.createElement;\nimport React, { useEffect } from 'react';\nimport Highcharts from 'highcharts';\nimport { useData } from '../../context/Data';\nimport { chartThemes } from '../../config/themes.json';\n\nfunction PieChart({\n  data\n}) {\n  const {\n    formatNumber,\n    formatPercent,\n    theme\n  } = useData();\n  useEffect(() => {\n    if (!data) return () => {};\n    const dataSet = Object.keys(data).map(region => {\n      return {\n        name: region,\n        y: data[region].infecteds\n      };\n    });\n    Highcharts.theme = chartThemes[theme];\n    Highcharts.setOptions(Highcharts.theme);\n    Highcharts.chart('pieChart', {\n      chart: {\n        type: 'pie'\n      },\n      title: {\n        text: ''\n      },\n      tooltip: {\n        formatter: function () {\n          return `${this.key}: <b>${formatNumber(this.y)}</b><br/>${formatPercent(this.percentage / 100)}`;\n        }\n      },\n      series: [{\n        name: 'Casos',\n        data: dataSet\n      }]\n    });\n  }, [data, theme]);\n\n  if (!data) {\n    return __jsx(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 10\n      }\n    }, \"loading\");\n  }\n\n  return __jsx(\"div\", {\n    id: \"pieChart\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 9\n    }\n  });\n}\n\nexport default PieChart;","map":{"version":3,"sources":["/home/eduardo/projetos/covid/src/components/PieChart/index.js"],"names":["React","useEffect","Highcharts","useData","chartThemes","PieChart","data","formatNumber","formatPercent","theme","dataSet","Object","keys","map","region","name","y","infecteds","setOptions","chart","type","title","text","tooltip","formatter","key","percentage","series"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,UAAP,MAAuB,YAAvB;AACA,SAASC,OAAT,QAAwB,oBAAxB;AACA,SAASC,WAAT,QAA4B,0BAA5B;;AAEA,SAASC,QAAT,CAAkB;AAAEC,EAAAA;AAAF,CAAlB,EAA4B;AAC3B,QAAM;AAAEC,IAAAA,YAAF;AAAgBC,IAAAA,aAAhB;AAA+BC,IAAAA;AAA/B,MAAyCN,OAAO,EAAtD;AAEAF,EAAAA,SAAS,CAAC,MAAM;AACf,QAAI,CAACK,IAAL,EAAW,OAAO,MAAM,CAAE,CAAf;AAEX,UAAMI,OAAO,GAAGC,MAAM,CAACC,IAAP,CAAYN,IAAZ,EAAkBO,GAAlB,CAAuBC,MAAD,IAAY;AACjD,aAAO;AACNC,QAAAA,IAAI,EAAED,MADA;AAENE,QAAAA,CAAC,EAAEV,IAAI,CAACQ,MAAD,CAAJ,CAAaG;AAFV,OAAP;AAIA,KALe,CAAhB;AAMAf,IAAAA,UAAU,CAACO,KAAX,GAAmBL,WAAW,CAACK,KAAD,CAA9B;AACAP,IAAAA,UAAU,CAACgB,UAAX,CAAsBhB,UAAU,CAACO,KAAjC;AACAP,IAAAA,UAAU,CAACiB,KAAX,CAAiB,UAAjB,EAA6B;AAC5BA,MAAAA,KAAK,EAAE;AACNC,QAAAA,IAAI,EAAE;AADA,OADqB;AAK5BC,MAAAA,KAAK,EAAE;AACNC,QAAAA,IAAI,EAAE;AADA,OALqB;AAS5BC,MAAAA,OAAO,EAAE;AACRC,QAAAA,SAAS,EAAE,YAAY;AACtB,iBAAQ,GAAE,KAAKC,GAAI,QAAOlB,YAAY,CACrC,KAAKS,CADgC,CAEpC,YAAWR,aAAa,CAAC,KAAKkB,UAAL,GAAkB,GAAnB,CAAwB,EAFlD;AAGA;AALO,OATmB;AAiB5BC,MAAAA,MAAM,EAAE,CACP;AACCZ,QAAAA,IAAI,EAAE,OADP;AAECT,QAAAA,IAAI,EAAEI;AAFP,OADO;AAjBoB,KAA7B;AAwBA,GAnCQ,EAmCN,CAACJ,IAAD,EAAOG,KAAP,CAnCM,CAAT;;AAqCA,MAAI,CAACH,IAAL,EAAW;AACV,WAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAAP;AACA;;AAED,SAAO;AAAK,IAAA,EAAE,EAAC,UAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAP;AACA;;AAED,eAAeD,QAAf","sourcesContent":["import React, { useEffect } from 'react';\nimport Highcharts from 'highcharts';\nimport { useData } from '../../context/Data';\nimport { chartThemes } from '../../config/themes.json';\n\nfunction PieChart({ data }) {\n\tconst { formatNumber, formatPercent, theme } = useData();\n\n\tuseEffect(() => {\n\t\tif (!data) return () => {};\n\n\t\tconst dataSet = Object.keys(data).map((region) => {\n\t\t\treturn {\n\t\t\t\tname: region,\n\t\t\t\ty: data[region].infecteds,\n\t\t\t};\n\t\t});\n\t\tHighcharts.theme = chartThemes[theme];\n\t\tHighcharts.setOptions(Highcharts.theme);\n\t\tHighcharts.chart('pieChart', {\n\t\t\tchart: {\n\t\t\t\ttype: 'pie',\n\t\t\t},\n\n\t\t\ttitle: {\n\t\t\t\ttext: '',\n\t\t\t},\n\n\t\t\ttooltip: {\n\t\t\t\tformatter: function () {\n\t\t\t\t\treturn `${this.key}: <b>${formatNumber(\n\t\t\t\t\t\tthis.y\n\t\t\t\t\t)}</b><br/>${formatPercent(this.percentage / 100)}`;\n\t\t\t\t},\n\t\t\t},\n\n\t\t\tseries: [\n\t\t\t\t{\n\t\t\t\t\tname: 'Casos',\n\t\t\t\t\tdata: dataSet,\n\t\t\t\t},\n\t\t\t],\n\t\t});\n\t}, [data, theme]);\n\n\tif (!data) {\n\t\treturn <p>loading</p>;\n\t}\n\n\treturn <div id=\"pieChart\"></div>;\n}\n\nexport default PieChart;\n"]},"metadata":{},"sourceType":"module"}